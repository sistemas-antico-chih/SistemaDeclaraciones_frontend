<h1 mat-dialog-title>Declaración a prsentar</h1>
<!--<div mat-dialog-content>This dialog showcases the title, close, content and actions elements.</div>-->
<div mat-dialog-actions>
  
  <div class="contenedor">
    <form (ngSubmit)="confirmSaveInfo()" [formGroup]="datosDialogForm">
      <!-- Primer bloque -->
      <div>
        <div class="grid-2-col">
          <mat-form-field appearance="fill">
            <mat-label>Tipo de declaración </mat-label>
            <mat-icon matPrefix>star</mat-icon>
            <mat-select formControlName="tipoDeclaracion" required (selectionChange)="validarDeclaracion($event.value)">
              <mat-option *ngFor="let tipo of tipoDeclaracionCatalogo" [value]="tipo.clave">
                {{ tipo.valor | replace: '_':' ' }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <!--
          <mat-form-field  appearance="fill">
            <mat-label>Fecha de toma de posesión/conclusión</mat-label>
            <input
             *ngIf="cbInicialSimplificada.checked"
              [errorStateMatcher]="errorMatcher"
              matInput
              [matDatepicker]="picker"
              [min]="minDate"
              [max]="maxDate"
              formControlName="fechaTomaPosesion"
              required
            />
            <mat-hint>dd/mm/yyyy</mat-hint>
            <mat-datepicker-toggle matPrefix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker >
          </mat-datepicker>
          </mat-form-field>
          -->
          <mat-form-field  appearance="fill">
            <mat-label>Seleccionar un puesto</mat-label>
            <mat-icon matPrefix>dns</mat-icon>
            <mat-select formControlName="puesto" required  (selectionChange)="validarDeclaracion($event.value)">
              <mat-option *ngFor="let p of puestoCatalogo" [value]="p.clave">
                {{ p.valor }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </form>

    
    <div class="grid-margin" fxLayout="row" fxLayoutAlign="center" fxLayoutGap="35px">
      <mat-card class="info" fxFlex="30" fxLayout="column">
        <mat-card-content fxFlex="grow">
          <p class="title">Declaración inicial</p>
          <p>
            <span class="resaltar">Plazo: </span>Dentro de los sesenta días naturales siguientes a la toma de posesión
            con motivo del Ingreso al servicio público por primera vez o reingreso al servicio público después de
            sesenta días naturales de la conclusión de su último encargo.
          </p>
        </mat-card-content>
        <mat-card-actions>
                    
          <!--[routerLink]="['/inicial/simplificada/situacion-patrimonial']"-->
          <mat-checkbox color="primary" #cbInicialSimplificada [disabled]="isDisabledCheckBoxInicial" [checked]="isCheckedCheckBoxInicial" >Declaración simplificada</mat-checkbox>
          <button *ngIf="cbInicialSimplificada.checked" id="btnInicialSimple" mat-raised-button color="primary" 
            (click)="closeDialog()" [disabled]="isDisabledButtonInicialSimple"> 
            <small>Comenzar declaración simplificada</small>
          </button>

          <!--[routerLink]="['/inicial/situacion-patrimonial']"-->
          <button *ngIf="!cbInicialSimplificada.checked" mat-raised-button color="primary" #btnInicialCompleta
             (click)="closeDialog()" [disabled]="isDisabledButtonInicialCompleta">
            Comenzar declaración
          </button>
        </mat-card-actions>
      </mat-card>
      <mat-card class="info" fxFlex="30" fxLayout="column">
        <mat-card-content fxFlex="grow">
          <p class="title">Declaración de Modificación</p>
          <p>
            <span class="resaltar">Plazo: </span>Durante el mes de mayo de cada año, siempre y cuando haya laborado al
            menos un día del año inmediato anterior.
          </p>
        </mat-card-content>
        <mat-card-actions>
          <mat-checkbox color="primary" #cbModificacionSimplificada [disabled]="isDisabledCheckBoxModificacion" [checked]="isCheckedCheckBoxModificacion" >Declaración simplificada</mat-checkbox>
          <button *ngIf="cbModificacionSimplificada.checked"  mat-raised-button color="primary" #btnInicialSimple id="btnInicialSimple"
            [routerLink]="['/modificacion/simplificada/situacion-patrimonial']" (click)="closeDialog()"  [disabled]="isDisabledButtonModificacionSimple">
            <small>Comenzar declaración simplificada</small>
          </button>
          <button *ngIf="!cbModificacionSimplificada.checked" mat-raised-button color="primary" 
            [routerLink]="['/modificacion/situacion-patrimonial']" (click)="closeDialog()"  [disabled]="isDisabledButtonModificacionCompleta">
            Comenzar declaración
          </button>
        </mat-card-actions>
      </mat-card>
      <mat-card class="info" fxFlex="30" fxLayout="column">
        <mat-card-content fxFlex="grow">
          <p class="title">Declaración de Conclusión</p>
          <p>
            <span class="resaltar">Plazo: </span>Dentro de los sesenta días naturales siguientes a la conclusión del
            encargo.
          </p>
        </mat-card-content>
        <mat-card-actions>
          <mat-checkbox color="primary" #cbConclusionSimplificada  [disabled]="isDisabledCheckBoxConclusion" [checked]="isCheckedCheckBoxConclusion" >Declaración simplificada</mat-checkbox>
          <button *ngIf="cbConclusionSimplificada.checked"  mat-raised-button color="primary" 
            [routerLink]="['/conclusion/simplificada/situacion-patrimonial']" (click)="closeDialog()" [disabled]="isDisabledButtonConclusionSimple">
            <small>Comenzar declaración simplificada</small>
          </button>
          <button *ngIf="!cbConclusionSimplificada.checked" mat-raised-button color="primary" 
            [routerLink]="['/conclusion/situacion-patrimonial']" (click)="closeDialog()" [disabled]="isDisabledButtonConclusionCompleta">
            Comenzar declaración
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
    
  </div>
  
  <button mat-button mat-dialog-close>Close</button>
</div>